<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>stch.sql.format documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Sql 0.1.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="stch.sql.html"><span>stch.sql</span></a></li><li><a href="stch.sql.ddl.html"><span>stch.sql.ddl</span></a></li><li class="current"><a href="stch.sql.format.html"><span>stch.sql.format</span></a></li><li><a href="stch.sql.types.html"><span>stch.sql.types</span></a></li><li><a href="stch.sql.util.html"><span>stch.sql.util</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="stch.sql.format.html#var-*clause*"><span>*clause*</span></a></li><li><a href="stch.sql.format.html#var-*fn-context%3F*"><span>*fn-context?*</span></a></li><li><a href="stch.sql.format.html#var-*input-params*"><span>*input-params*</span></a></li><li><a href="stch.sql.format.html#var-*param-counter*"><span>*param-counter*</span></a></li><li><a href="stch.sql.format.html#var-*param-names*"><span>*param-names*</span></a></li><li><a href="stch.sql.format.html#var-*params*"><span>*params*</span></a></li><li><a href="stch.sql.format.html#var-*quote-identifier-fn*"><span>*quote-identifier-fn*</span></a></li><li><a href="stch.sql.format.html#var-*subquery%3F*"><span>*subquery?*</span></a></li><li><a href="stch.sql.format.html#var--to-sql"><span>-to-sql</span></a></li><li><a href="stch.sql.format.html#var-ToSQL"><span>ToSQL</span></a></li><li><a href="stch.sql.format.html#var-clause-order"><span>clause-order</span></a></li><li><a href="stch.sql.format.html#var-expand-binary-ops"><span>expand-binary-ops</span></a></li><li><a href="stch.sql.format.html#var-fn-aliases"><span>fn-aliases</span></a></li><li><a href="stch.sql.format.html#var-fn-handler"><span>fn-handler</span></a></li><li><a href="stch.sql.format.html#var-format"><span>format</span></a></li><li><a href="stch.sql.format.html#var-format-clause"><span>format-clause</span></a></li><li><a href="stch.sql.format.html#var-format-join"><span>format-join</span></a></li><li><a href="stch.sql.format.html#var-format-predicate"><span>format-predicate</span></a></li><li><a href="stch.sql.format.html#var-format-predicate*"><span>format-predicate*</span></a></li><li><a href="stch.sql.format.html#var-infix-fns"><span>infix-fns</span></a></li><li><a href="stch.sql.format.html#var-known-clauses"><span>known-clauses</span></a></li><li><a href="stch.sql.format.html#var-quote-identifier"><span>quote-identifier</span></a></li><li><a href="stch.sql.format.html#var-sqlable%3F"><span>sqlable?</span></a></li><li><a href="stch.sql.format.html#var-to-sql"><span>to-sql</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>stch.sql.format documentation</h2><pre class="doc">Format query and DML statements. Use with stch.sql.
</pre><div class="public" id="var-*clause*"><h3>*clause*</h3><div class="usage"></div><pre class="doc">During formatting, *clause* is bound to :select, :from, :where, etc.
</pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L9">Source</a></div></div><div class="public" id="var-*fn-context%3F*"><h3>*fn-context?*</h3><div class="usage"></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L24">Source</a></div></div><div class="public" id="var-*input-params*"><h3>*input-params*</h3><div class="usage"></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L22">Source</a></div></div><div class="public" id="var-*param-counter*"><h3>*param-counter*</h3><div class="usage"></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L20">Source</a></div></div><div class="public" id="var-*param-names*"><h3>*param-names*</h3><div class="usage"></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L18">Source</a></div></div><div class="public" id="var-*params*"><h3>*params*</h3><div class="usage"></div><pre class="doc">Will be bound to an atom-vector that accumulates SQL parameters across
possibly-recursive function calls</pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L13">Source</a></div></div><div class="public" id="var-*quote-identifier-fn*"><h3>*quote-identifier-fn*</h3><div class="usage"></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L34">Source</a></div></div><div class="public" id="var-*subquery%3F*"><h3>*subquery?*</h3><div class="usage"></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L26">Source</a></div></div><div class="public" id="var--to-sql"><h3>-to-sql</h3><div class="usage"><code>(-to-sql x)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/#L">Source</a></div></div><div class="public" id="var-ToSQL"><h3>ToSQL</h3><div class="usage"></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L205">Source</a></div></div><div class="public" id="var-clause-order"><h3>clause-order</h3><div class="usage"></div><pre class="doc">Determines the order that clauses will be placed within generated SQL
</pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L152">Source</a></div></div><div class="public" id="var-expand-binary-ops"><h3>expand-binary-ops</h3><div class="usage"><code>(expand-binary-ops op &amp; args)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L72">Source</a></div></div><div class="public" id="var-fn-aliases"><h3>fn-aliases</h3><div class="usage"></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L57">Source</a></div></div><div class="public" id="var-fn-handler"><h3>fn-handler</h3><div class="usage"></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L70">Source</a></div></div><div class="public" id="var-format"><h3>format</h3><div class="usage"><code>(format sql-map &amp; params-or-opts)</code></div><pre class="doc">Takes a SQL map and optional input parameters and returns a vector
of a SQL string and parameters, as expected by clojure.java.jdbc.

Input parameters will be filled into designated spots according to
name (if a map is provided) or by position (if a sequence is provided).

Instead of passing parameters, you can use keyword arguments:
  :params - input parameters
  :quoting - quote style to use for identifiers; one of :ansi (PostgreSQL),
             :mysql, :sqlserver, or :oracle. Defaults to no quoting.
  :return-param-names - when true, returns a vector of
                        [sql-str param-values param-names]</pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L161">Source</a></div></div><div class="public" id="var-format-clause"><h3>format-clause</h3><div class="usage"></div><pre class="doc">Takes a map entry representing a clause and returns an SQL string
</pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L317">Source</a></div></div><div class="public" id="var-format-join"><h3>format-join</h3><div class="usage"><code>(format-join type table pred)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L342">Source</a></div></div><div class="public" id="var-format-predicate"><h3>format-predicate</h3><div class="usage"><code>(format-predicate pred &amp; {:keys [quoting]})</code></div><pre class="doc">Formats a predicate (e.g., for WHERE, JOIN, or HAVING) as a string.
</pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L192">Source</a></div></div><div class="public" id="var-format-predicate*"><h3>format-predicate*</h3><div class="usage"><code>(format-predicate* pred)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L298">Source</a></div></div><div class="public" id="var-infix-fns"><h3>infix-fns</h3><div class="usage"></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L52">Source</a></div></div><div class="public" id="var-known-clauses"><h3>known-clauses</h3><div class="usage"></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L159">Source</a></div></div><div class="public" id="var-quote-identifier"><h3>quote-identifier</h3><div class="usage"><code>(quote-identifier x &amp; {:keys [style split], :or {split true}})</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L36">Source</a></div></div><div class="public" id="var-sqlable%3F"><h3>sqlable?</h3><div class="usage"><code>(sqlable? x)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L276">Source</a></div></div><div class="public" id="var-to-sql"><h3>to-sql</h3><div class="usage"><code>(to-sql x)</code></div><pre class="doc"></pre><div class="src-link"><a href="https://github.com/stch-library/sql/blob/master/src/stch/sql/format.clj#L279">Source</a></div></div></div></body></html>